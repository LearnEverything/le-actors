_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{"9LUb":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return T})),n.d(t,"default",(function(){return R}));var a=n("vJKn"),r=n.n(a),o=n("rg98"),c=n("xvhg"),i=n("cpVT"),u=n("q1tI"),l=n.n(u),d=n("v3sT"),s=n("TJry"),m=n("jPLn"),p=n("+LKd"),b=n("fIdO"),f=n("3FDQ"),h=n("Lu6H"),v=n("TZn1"),y=n("4467"),O=n("jjmZ"),w=n("C5yf"),g=n("DVlV"),j=n("oene"),D=n("RqI1"),_=l.a.createElement;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=g.a.reduce((function(e,t){return S(S({},e),{},Object(i.a)({},t.name,t))}),{}),T=!0;function R(e){var t=e.modelName;Object(j.a)({redirectTo:"/login"});var n=function(e){var t=N[e];if(!t)throw new Error("No model found with name ".concat(e,", but path exists. There might be an inconsistency in your getStaticPaths method."));return t}(t),a=Object(D.useMulti)({model:n}).documents||[],i=l.a.useState(void 0),u=Object(c.a)(i,2),g=u[0],P=u[1],S=Object(D.useDelete)({model:n}),T=Object(c.a)(S,1)[0],R=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}throw new Error("Trying to delete without id, this shouldn't happen");case 2:return t=g,P(void 0),n={id:t},e.next=7,T({input:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _(w.a,null,_(d.a,{variant:"h1"}," Manage ",n.name),_(d.a,{variant:"body1"},'/!\\ This page is an experimental demonstration of using Vulcan "magic" components (SmartForm) to manage your model'),_("hr",null),_(d.a,{variant:"h2"}," Create a new ",n.name," "),_(y.SmartForm,{model:n}),_(d.a,{variant:"h2"}," Read "),_(s.a,null,a.map((function(e){return _(m.b,{key:e.id},_(O.a,{document:e,model:n}))}))),_("hr",null),_(d.a,{variant:"h2"},"Select a document for edition"),_(p.a,null,_(b.a,{id:"updateDocumentLabel"},"Document"),_(f.a,{labelId:"updateDocumentLabel",id:"updatedDocumentSelectId",value:g,onChange:function(e){P(e.target.value)},style:{minWidth:"120px"}},_(h.a,{value:""},_("em",null,"None")," "),a.map((function(e){return _(h.a,{key:e._id,value:e._id},e._id)})))),g&&_("div",null,_(d.a,{variant:"h2"}," Update selected document "),_(y.SmartForm,{model:n,documentId:g}),_(d.a,{variant:"h2"}," Delete select document "),_(v.a,{color:"secondary",onClick:function(){return R()}},"Delete document")))}},DVlV:function(e,t,n){"use strict";var a=n("15Wl"),r=n("X/PW"),o={_id:{type:String,optional:!0,canRead:["guests"]},userId:{type:String,optional:!0,canRead:["guests"]},createdAt:{type:Date,optional:!0,canRead:["admins"],onCreate:function(){return new Date}},someField:{type:String,optional:!0,canRead:["guests"],canUpdate:["admins"],canCreate:["owners"],searchable:!0}},c="Sample",i=Object(a.createGraphqlModel)({name:"sample",schema:o,graphql:{typeName:c,multiTypeName:"Samples",queryResolvers:Object(a.buildDefaultQueryResolvers)({typeName:c}),mutationResolvers:Object(a.buildDefaultMutationResolvers)({typeName:c})},permissions:{canCreate:["member"],canUpdate:["owners","admins"],canDelete:["owners","admins"],canRead:["members","admins"]}}),u=(Object(r.createMongooseConnector)(i),n("Oj1a"));t.a=[u.a,i]},P00Q:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/[modelName]",function(){return n("9LUb")}])},cpVT:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))}},[["P00Q",0,1,12,14,11,13,21,2,3,4,5,6,9,8,7,15,16,17,18,24,22]]]);