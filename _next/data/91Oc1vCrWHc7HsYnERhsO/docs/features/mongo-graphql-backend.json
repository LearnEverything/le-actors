{"initialI18nStore":{"en":{"common":{"__Debug message":"Hi, I am in English ðŸ‡¬ðŸ‡§"}}},"initialLanguage":"en","i18nServerInstance":null,"pageProps":{"pages":[],"filePath":"features/mongo-graphql-backend","source":{"compiledSource":"\"use strict\";\n\nvar _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Graphql + Mongo backend\"), mdx(\"h2\", null, \"Authentication\"), mdx(\"h3\", null, \"Passport authentication\"), mdx(\"p\", null, \"Access the See the home page footer to access signup, login, logout and profile page. Implementation is based on Next official example \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/vercel/next.js/tree/canary/examples/with-passport-and-next-connect\"\n  }, \"with Passport and Next Connect\")), mdx(\"h3\", null, \"Experimental SSR redirection\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"This feature is experimental and not useful in most scenarios.\"), \" We advise to stick to client-side only patterns. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/VulcanJS/vulcan-next/issues/71\"\n  }, \"See relevant issue\"), \".\"), mdx(\"p\", null, \"See \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/pages/vns/debug/private\"), \" for a demo. You can use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"withPrivateAccess\"), \" HOC to make a page private and handle redirections correctly in all situations (server-side, client-side, in the context of a static export etc.).\"), mdx(\"h2\", null, \"Apollo Server\"), mdx(\"h3\", null, \"Demo of a simple server\"), mdx(\"p\", null, \"See \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/pages/api/graphql\"), \" for a demo server built with Apollo and Express\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NOTE:\"), \" Expect drastic enhancement of the way the server is set up, thanks to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://vulcanjs.org/\"\n  }, \"VulcanJS\"), \" declarative approach.\"), mdx(\"h3\", null, \"GraphQL Playground\"), mdx(\"p\", null, \"GraphQL Playground is available on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api/graphql\"), \". All API routes of Next are located in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/pages/api\"), \" folder, hence the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api\"), \" prefix.\"), mdx(\"h3\", null, \"Graphql Voyager\"), mdx(\"p\", null, \"Open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api/debug/graphql-voyager\"), \" and explore your API visually.\"), mdx(\"h2\", null, \"MongoDB\"), mdx(\"h3\", null, \"Persistance with Mongo through Docker\"), mdx(\"p\", null, \"As easy as ABC:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"yarn start:mongo\\n\")), mdx(\"p\", null, \"It will run an ephemeral Docker instance of Mongo v4. Data are stored in your project, in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./.mongo\"), \" folder. The container is removed when stopped, but your data are persisted and will still be available on next run.\"), mdx(\"h3\", null, \"Lambda safe connection\"), mdx(\"p\", null, \"Relevant docs:\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mongodb.com/how-to/nextjs-building-modern-applications\"\n  }, \"Official tutorial without mongoose\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.atlas.mongodb.com/best-practices-connecting-to-aws-lambda/\"\n  }, \"Best practice for Mongo in AWS Lambda\")), mdx(\"h3\", null, \"Mongoose for schema-based modeling\"), mdx(\"h3\", null, \"Conversion between GraphQL ID and Mongoose ID types\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/issues/1633\"\n  }, \"See relevant issue\")));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<style data-emotion=\"css o2w69a-MuiTypography-root\">.css-o2w69a-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:300;font-size:6rem;line-height:1.167;letter-spacing:-0.01562em;}</style><h1 class=\"MuiTypography-root MuiTypography-h1 css-o2w69a-MuiTypography-root\">Graphql + Mongo backend</h1><style data-emotion=\"css 1sra7t5-MuiTypography-root\">.css-1sra7t5-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:300;font-size:3.75rem;line-height:1.2;letter-spacing:-0.00833em;}</style><h2 class=\"MuiTypography-root MuiTypography-h2 css-1sra7t5-MuiTypography-root\">Authentication</h2><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Passport authentication</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">Access the See the home page footer to access signup, login, logout and profile page. Implementation is based on Next official example <style data-emotion=\"css 778kay-MuiLink-root\">.css-778kay-MuiLink-root{-webkit-text-decoration:none;text-decoration:none;}.css-778kay-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion=\"css zr39bh-MuiTypography-root-MuiLink-root\">.css-zr39bh-MuiTypography-root-MuiLink-root{margin:0;color:#1976d2;-webkit-text-decoration:none;text-decoration:none;}.css-zr39bh-MuiTypography-root-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class=\"MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-zr39bh-MuiTypography-root-MuiLink-root\" href=\"https://github.com/vercel/next.js/tree/canary/examples/with-passport-and-next-connect\">with Passport and Next Connect</a></p><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Experimental SSR redirection</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\"><em>This feature is experimental and not useful in most scenarios.</em> We advise to stick to client-side only patterns. <style data-emotion=\"css 778kay-MuiLink-root\">.css-778kay-MuiLink-root{-webkit-text-decoration:none;text-decoration:none;}.css-778kay-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion=\"css zr39bh-MuiTypography-root-MuiLink-root\">.css-zr39bh-MuiTypography-root-MuiLink-root{margin:0;color:#1976d2;-webkit-text-decoration:none;text-decoration:none;}.css-zr39bh-MuiTypography-root-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class=\"MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-zr39bh-MuiTypography-root-MuiLink-root\" href=\"https://github.com/VulcanJS/vulcan-next/issues/71\">See relevant issue</a>.</p><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">See <code>src/pages/vns/debug/private</code> for a demo. You can use <code>withPrivateAccess</code> HOC to make a page private and handle redirections correctly in all situations (server-side, client-side, in the context of a static export etc.).</p><style data-emotion=\"css 1sra7t5-MuiTypography-root\">.css-1sra7t5-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:300;font-size:3.75rem;line-height:1.2;letter-spacing:-0.00833em;}</style><h2 class=\"MuiTypography-root MuiTypography-h2 css-1sra7t5-MuiTypography-root\">Apollo Server</h2><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Demo of a simple server</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">See <code>src/pages/api/graphql</code> for a demo server built with Apollo and Express</p><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\"><strong>NOTE:</strong> Expect drastic enhancement of the way the server is set up, thanks to <style data-emotion=\"css 778kay-MuiLink-root\">.css-778kay-MuiLink-root{-webkit-text-decoration:none;text-decoration:none;}.css-778kay-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion=\"css zr39bh-MuiTypography-root-MuiLink-root\">.css-zr39bh-MuiTypography-root-MuiLink-root{margin:0;color:#1976d2;-webkit-text-decoration:none;text-decoration:none;}.css-zr39bh-MuiTypography-root-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class=\"MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-zr39bh-MuiTypography-root-MuiLink-root\" href=\"http://vulcanjs.org/\">VulcanJS</a> declarative approach.</p><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">GraphQL Playground</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">GraphQL Playground is available on <code>api/graphql</code>. All API routes of Next are located in the <code>src/pages/api</code> folder, hence the <code>api</code> prefix.</p><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Graphql Voyager</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">Open <code>api/debug/graphql-voyager</code> and explore your API visually.</p><style data-emotion=\"css 1sra7t5-MuiTypography-root\">.css-1sra7t5-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:300;font-size:3.75rem;line-height:1.2;letter-spacing:-0.00833em;}</style><h2 class=\"MuiTypography-root MuiTypography-h2 css-1sra7t5-MuiTypography-root\">MongoDB</h2><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Persistance with Mongo through Docker</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">As easy as ABC:</p><pre><code class=\"language-sh\">yarn start:mongo\n</code></pre><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">It will run an ephemeral Docker instance of Mongo v4. Data are stored in your project, in the <code>./.mongo</code> folder. The container is removed when stopped, but your data are persisted and will still be available on next run.</p><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Lambda safe connection</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\">Relevant docs:</p><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\"><style data-emotion=\"css 778kay-MuiLink-root\">.css-778kay-MuiLink-root{-webkit-text-decoration:none;text-decoration:none;}.css-778kay-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion=\"css zr39bh-MuiTypography-root-MuiLink-root\">.css-zr39bh-MuiTypography-root-MuiLink-root{margin:0;color:#1976d2;-webkit-text-decoration:none;text-decoration:none;}.css-zr39bh-MuiTypography-root-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class=\"MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-zr39bh-MuiTypography-root-MuiLink-root\" href=\"https://developer.mongodb.com/how-to/nextjs-building-modern-applications\">Official tutorial without mongoose</a></p><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\"><style data-emotion=\"css 778kay-MuiLink-root\">.css-778kay-MuiLink-root{-webkit-text-decoration:none;text-decoration:none;}.css-778kay-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion=\"css zr39bh-MuiTypography-root-MuiLink-root\">.css-zr39bh-MuiTypography-root-MuiLink-root{margin:0;color:#1976d2;-webkit-text-decoration:none;text-decoration:none;}.css-zr39bh-MuiTypography-root-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class=\"MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-zr39bh-MuiTypography-root-MuiLink-root\" href=\"https://docs.atlas.mongodb.com/best-practices-connecting-to-aws-lambda/\">Best practice for Mongo in AWS Lambda</a></p><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Mongoose for schema-based modeling</h3><style data-emotion=\"css gepadz-MuiTypography-root\">.css-gepadz-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}</style><h3 class=\"MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root\">Conversion between GraphQL ID and Mongoose ID types</h3><style data-emotion=\"css ahj2mt-MuiTypography-root\">.css-ahj2mt-MuiTypography-root{margin:0;font-family:\"Roboto\",\"Helvetica\",\"Arial\",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}</style><p class=\"MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root\"><style data-emotion=\"css 778kay-MuiLink-root\">.css-778kay-MuiLink-root{-webkit-text-decoration:none;text-decoration:none;}.css-778kay-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style data-emotion=\"css zr39bh-MuiTypography-root-MuiLink-root\">.css-zr39bh-MuiTypography-root-MuiLink-root{margin:0;color:#1976d2;-webkit-text-decoration:none;text-decoration:none;}.css-zr39bh-MuiTypography-root-MuiLink-root:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class=\"MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover css-zr39bh-MuiTypography-root-MuiLink-root\" href=\"https://github.com/apollographql/apollo-server/issues/1633\">See relevant issue</a></p>","scope":{}}},"__N_SSG":true}